#include<bits/stdc++.h>
using namespace std;
int main()
{
 int t;
 cin>>t;
 while(t--){
 int b,n,r;
 cin>>b>>n>>r;
 int z=1;
 for(int i=1;i<=n;i++){
 z=z*i;
 }
 int res;
 res=pow(b,z);
 cout<<res%r<<endl;
 }
return 0;
cout<<"if(n%2==1)";
}
